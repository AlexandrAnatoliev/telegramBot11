# telegramBot10

[Ru] эхо-бот на aiogram - эхо‑бот будет получать от пользователя текстовое сообщение, обрабатывать его, посылать пользователю тектовую часть сообщения в верхнем регистре, если число слов в предложении больше двух


Взят https://www.youtube.com/watch?v=viM3oWSUDQI&list=PLe-iIMbo5JOJm6DRTjhleHojroS-Bbocr&index=2

## Замечания:

* Бот - сервер, который будет взаимодействовать с API телеграмма
* API это часть телеграмм, служит для взаимодействия со сторонними приложениями.
* Dispatcher - класс отвечающий обработку входящих сообщений в бот
* executor - класс для запуска бота
* types - вероятно обрабатывает типы сообщений (текст, картинка)

## Требования:

* $ pip install -r requirements.txt
* создать файл config.py, в котором будут храниться токен для доступа к боту в виде

```python 
token = "1234567890:ASDFGHH..."
```

## Где взять token?

* https://xakep.ru/2021/11/28/python-telegram-bots/

## Примеры использования

#### ПРАКТИКА:

* Напишите бота, который будет отправлять пользователю его же сообщение, переведенное в верхний регистр
* Напишите бота, который будет отправлять пользователю его же сообщение, при условии, что предложение состоит более чем
  из двух слов

#### Добавляем библиотеки

```python
from aiogram import Bot, Dispatcher, types, executor
from config import TOKEN_API
```

#### Создаем экземпляр класса Bot

```python
bot = Bot(TOKEN_API)
```

#### Создаем экземпляр класса Dispatcher

```python
dp = Dispatcher(bot)
```

#### Запуск бота

```python
if __name__ == '__main__':
    executor.start_polling(dp)
```

#### Обрабатываем входящие сообщения, посылаем пользователю тектовую часть сообщения в верхнем регистре, если число слов в предложении больше двух

```python
@dp.message_handler()  # обрабатываем входящие сообщения
async def echo_upper(message: types.Message):  # объект message класса message
    answ = message.text.upper()  # сообщение пользователю в верхнем регистре
    if len(answ.split()) < 3:  # возвращает сообщение пользователю, если число слов в предложении больше двух
        answ = "Слишком короткое сообщение"
    await message.answer(answ)  # написать сообщение ("текст" из входящего message, эмодзи тоже возвращает!)
```